@using Microsoft.AspNetCore.Components.Authorization

<MudNavMenu>
    <MudText Typo="Typo.h6" Class="px-4 py-4">Sorcha Platform</MudText>
    <MudDivider Class="mb-2" />

    <!-- UNIVERSAL: Everyone gets these -->
    <MudNavLink Href="/" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">
        Home
    </MudNavLink>

    <!-- CONSUMER WORKSPACE: For end users participating in workflows -->
    <AuthorizeView Roles="Consumer,User">
        <MudNavGroup Title="My Workspace" Icon="@Icons.Material.Filled.Person" Expanded="false">
            <MudNavLink Href="/my-workflows" Icon="@Icons.Material.Filled.AccountTree">
                My Workflows
            </MudNavLink>
            <MudNavLink Href="/my-actions" Icon="@Icons.Material.Filled.Task">
                Pending Actions
            </MudNavLink>
            <MudNavLink Href="/my-transactions" Icon="@Icons.Material.Filled.Receipt">
                My Transactions
            </MudNavLink>
            <MudNavLink Href="/my-wallet" Icon="@Icons.Material.Filled.AccountBalanceWallet">
                My Wallet
            </MudNavLink>
        </MudNavGroup>
    </AuthorizeView>

    <!-- DESIGNER TOOLS: For blueprint creators -->
    <AuthorizeView Roles="Designer,Administrator">
        <MudNavGroup Title="Design" Icon="@Icons.Material.Filled.Draw" Expanded="true">
            <MudNavLink Href="/designer" Icon="@Icons.Material.Filled.AccountTree">
                Blueprint Designer
            </MudNavLink>
            <MudNavLink Href="/blueprints" Icon="@Icons.Material.Filled.LibraryBooks">
                Blueprint Library
            </MudNavLink>
            <MudNavLink Href="/schemas" Icon="@Icons.Material.Filled.Schema">
                Schema Library
            </MudNavLink>
            <MudNavLink Href="/templates" Icon="@Icons.Material.Filled.ContentCopy">
                Templates
            </MudNavLink>
            <MudNavLink Href="/blueprint-test" Icon="@Icons.Material.Filled.Science">
                Test & Validate
            </MudNavLink>
        </MudNavGroup>
    </AuthorizeView>

    <!-- ADMINISTRATION: For system administrators -->
    <AuthorizeView Roles="Administrator,SystemAdmin">
        <MudNavGroup Title="Administration" Icon="@Icons.Material.Filled.AdminPanelSettings" Expanded="false">
            <MudNavLink Href="/admin/dashboard" Icon="@Icons.Material.Filled.Dashboard">
                System Dashboard
            </MudNavLink>
            <MudNavLink Href="/admin/services" Icon="@Icons.Material.Filled.Cloud">
                Service Monitoring
            </MudNavLink>
            <MudNavLink Href="/admin/users" Icon="@Icons.Material.Filled.People">
                User Management
            </MudNavLink>
            <MudNavLink Href="/admin/tenants" Icon="@Icons.Material.Filled.Business">
                Tenant Management
            </MudNavLink>
            <MudNavLink Href="/admin/audit" Icon="@Icons.Material.Filled.History">
                Audit Logs
            </MudNavLink>
            <MudNavLink Href="/admin/config" Icon="@Icons.Material.Filled.Tune">
                Configuration
            </MudNavLink>
        </MudNavGroup>
    </AuthorizeView>

    <!-- DEVELOPER TOOLS: For integrators and developers -->
    <AuthorizeView Roles="Developer,Administrator">
        <MudNavGroup Title="Developer" Icon="@Icons.Material.Filled.Code" Expanded="false">
            <MudNavLink Href="/dev/api-docs" Icon="@Icons.Material.Filled.Description">
                API Documentation
            </MudNavLink>
            <MudNavLink Href="/dev/playground" Icon="@Icons.Material.Filled.PlayArrow">
                API Playground
            </MudNavLink>
            <MudNavLink Href="/dev/events" Icon="@Icons.Material.Filled.BugReport">
                Event Inspector
            </MudNavLink>
            <MudNavLink Href="/dev/performance" Icon="@Icons.Material.Filled.Speed">
                Performance Tools
            </MudNavLink>
            <MudNavLink Href="/dev/webhooks" Icon="@Icons.Material.Filled.Webhook">
                Webhooks
            </MudNavLink>
        </MudNavGroup>
    </AuthorizeView>

    <MudDivider Class="my-2" />

    <!-- UNIVERSAL: Everyone gets these -->
    <MudNavLink Href="/settings" Icon="@Icons.Material.Filled.Settings">
        Settings
    </MudNavLink>

    <MudNavLink Href="/help" Icon="@Icons.Material.Filled.Help">
        Help & Support
    </MudNavLink>
</MudNavMenu>
